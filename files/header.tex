\PassOptionsToPackage{backref=page}{hyperref}

%%% === ADDITIONAL PACKAGES
\usepackage{animate}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{cancel}
\usepackage{booktabs}
\usepackage{stmaryrd}
\usepackage[export]{adjustbox}
\usepackage{fontawesome5}
\usepackage{algorithmic}
\usepackage{amsmath}
\usepackage{yfonts}
\graphicspath{{../../files/}}

% \LinesNumbered
\newcommand{\theHalgorithm}{\arabic{algorithm}}
\newcommand{\theHtable}{\thetable}
\usepackage[ruled,vlined]{algorithm2e}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\newcommand{\vect}[1]{\boldsymbol{\mathbf{#1}}}

%%% === CONDITIONAL PACKAGE
\usepackage{ifthen}

%%% === TEMPLATE
\setbeamerfont{title}{series=\bfseries}
\setbeamerfont{frametitle}{series=\bfseries, size=\fontsize{12}{14}}

\setbeamersize
{
    text margin left=0.214cm,
    text margin right=0.214cm
}

\usefonttheme[onlymath]{serif}
\setbeamertemplate{bibliography item}{\insertbiblabel}
\setbeamertemplate{itemize items}[circle] % For level-1 itemize
\setbeamertemplate{itemize subitem}[circle] % For level-2 (subitems)
\setbeamertemplate{itemize subsubitem}[circle] % For level-3 (subsubitems)

\addtobeamertemplate{footline}{\raisebox{-1.3pt}{\href{https://fmin.xyz}{\includegraphics[width=1cm]{logo.pdf}}} \hspace{0.2cm} \hbox{\insertsection \hspace{0.2cm}} \hfill \href{https://hse24.fmin.xyz}{\faGem[regular]} \hspace{0.04cm} \href{https://github.com/MerkulovDaniil/hse24}{\faGithub} \hspace{0.07cm} \href{https://t.me/fminxyz}{\faTelegram} \hspace{0.4cm}\hbox{\insertframenumber \hspace{0.1cm}}
  \vskip0pt
}

\usenavigationsymbolstemplate{}

%%% === ADDITIONAL COMMANDS
\newcommand*{\Scale}[2][4]{\scalebox{#1}{$#2$}}%
\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\argmax}{\operatornamewithlimits{argmax}}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}

%%% === BACKGROUND IMAGE SETUP
\AtBeginDocument{
  \ifthenelse{\isundefined{\bgimage}}{
    % No background image specified
  }{
    \setbeamertemplate{title page}{
      \begin{tikzpicture}[remember picture,overlay]
        \node[anchor=center, xshift=0pt, yshift=0pt] at (current page.center) {
          \includegraphics[width=1.05\paperwidth, height=1.05\paperheight]{\bgimage}
        };
        \node[fill=white, fill opacity=0.7, text opacity=1, inner sep=10pt, rounded corners=10pt] at (current page.center) {
          \begin{minipage}{0.5\paperwidth}
            \centering
            \usebeamerfont{title}\inserttitle\par
            \vspace*{0.5cm}
            \usebeamerfont{author}\insertauthor\par
            \vspace*{0.5cm}
            \usebeamerfont{institute}\insertinstitute\par
          \end{minipage}
        };
      \end{tikzpicture}
    }
  }
}